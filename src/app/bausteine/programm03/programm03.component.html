<ng-container *ngIf="session && session.UebungsListe && (session.UebungsListe.length > 0)" >
    <a [ngClass]="['link-button-font', 'HG-01']" mat-flat-button (click)="toggleUebungen()">{{ToggleButtonText}}</a>

    <ng-container *ngFor="let SessUeb of session.UebungsListe, index as i; let isOdd=odd">
        <ng-container [SessUeb]="SessUeb"></ng-container>
        <mat-accordion #accUebung='matAccordion' multi="true">
            <mat-expansion-panel #panUebung='matExpansionPanel' 
                [expanded]="SessUeb.Expanded" 
                (closed)="PanelUebungClosed(SessUeb)"
                (opened)="PanelUebungOpened(SessUeb)">
                <mat-expansion-panel-header>
                    <div fxLayout="row wrap" fxLayout.lt-sm="row wrap" fxFlex="100%"> 
                        <div layout-align="start center" fxFlex="0 0 70%">
                            <h6 flex>#{{i+1}} {{SessUeb.Name}}</h6>
                        </div>
                        
                        <ng-container *ngIf="bearbeitbar" >
                            <a  [ngClass]="['link-button-font']" mat-flat-button [matMenuTriggerFor]="menu" (click)="$event.stopPropagation()">Set settings</a>
                            <mat-menu #menu="matMenu" class="center-item" layout-align="end center">
                                <div [ngClass]="['mg-5']" layout-align="start" fxFlex="1 0 auto">
                                    <div layout-align="start" layout-margin>
                                        <mat-checkbox [(ngModel)]="SessUeb.WarmUpVisible" (click)="$event.stopPropagation()">Show Warmup
                                        </mat-checkbox>
                                    </div>
                                
                                    <div layout-align="start" layout-margin>
                                        <mat-checkbox [(ngModel)]="SessUeb.CoolDownVisible" (click)="$event.stopPropagation()">Show Cooldown
                                        </mat-checkbox>
                                    </div>

                                    <div layout-align="start" layout-margin>
                                        <mat-checkbox [(ngModel)]="SessUeb.IncludeWarmupWeight" (click)="$event.stopPropagation()">Add Warmup-Weight
                                        </mat-checkbox>
                                    </div>

                                    <div layout-align="start" layout-margin>
                                        <mat-checkbox [(ngModel)]="SessUeb.IncludeCoolDownWeight" (click)="$event.stopPropagation()">Add Cooldown-Weight
                                        </mat-checkbox>
                                    </div>
                                </div>
                            </mat-menu>
                        </ng-container>
                    </div>
                </mat-expansion-panel-header>
                <ng-container [panUebung1]=panUebung></ng-container>

                <div class="card-body">
                    <div fxLayout="column" fxLayoutGap="2px" fxFlex="100%">
                        <ng-container *ngIf="SessUeb.AufwaermSatzListe && SessUeb.WarmUpVisible">
                            <app-sess-uebung [panUebung1]=panUebung [rowNum]="i" [satzTypText]="'Warm up sets'"  
                                [satzListe]="SessUeb.AufwaermSatzListe" [session]="session" [sessUebung]="SessUeb" [bearbeitbar] = "bearbeitbar">
                            </app-sess-uebung>
                        </ng-container>
                
                        <ng-container *ngIf="SessUeb.ArbeitsSatzListe">
                            <app-sess-uebung [panUebung1]=panUebung [rowNum]="i" [satzTypText]="'Work sets'" 
                                [satzListe]="SessUeb.ArbeitsSatzListe" [session]="session" [sessUebung]="SessUeb" [bearbeitbar] = "bearbeitbar">
                            </app-sess-uebung>
                        </ng-container>
                
                        <ng-container *ngIf="SessUeb.AbwaermSatzListe  && SessUeb.CoolDownVisible">
                            <app-sess-uebung [panUebung1]=panUebung [rowNum]="i" [satzTypText]="'Cool down sets'" 
                                [satzListe]="SessUeb.AbwaermSatzListe" [session]="session" [sessUebung]="SessUeb" [bearbeitbar] = "bearbeitbar">
                            </app-sess-uebung>
                        </ng-container>

                        <div fxLayout="row wrap" fxLayout.lt-sm="row wrap" fxLayoutAlign="center">
                            <div class="center-item" layout-align="center center">
                                <a [ngClass]="['link-button-font']" mat-flat-button (click)="CopyExcercise(SessUeb)">Copy exercise</a>
                            </div>
    
                            <div class="center-item" layout-align="center center">
                                <a [ngClass]="['link-button-font']" mat-flat-button (click)="DeleteExercise(i+1,SessUeb)">Delete Exercise</a>
                            </div>
                        </div>
                    </div>
                </div>
            </mat-expansion-panel>
        </mat-accordion>
        
    </ng-container>
</ng-container>
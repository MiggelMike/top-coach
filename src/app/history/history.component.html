<app-toolbar></app-toolbar>
<div class="container">
    <div fxLayout="row wrap" fxLayout.lt-sm="row wrap" fxLayoutGap="20px" fxLayoutAlign="flex-start center" [style.margin-top]="'5px'">

        <p class="font-bold">History</p>

        <mat-form-field class="align-right"  fxFlex="100px">
            <mat-label>Max sessions</mat-label>
            <input matInput [textMask]="{mask: repMask, guide: false}" 
                   [ngModel]="LadeLimit" 
                   (focusout)="SetLadeLimit($event)" 
                   type="text">
        </mat-form-field>
    </div>

    <mat-tab-group #matGroup style="width:100%;height:100%" (selectedTabChange)="onTabChanged($event)">
        <mat-tab  label="Sessions">
            <app-programm02 
                [showButtons]="false"
                [showSaveButtons] = "false" 
                [programmTyp] = "'history'"
                [SessionListe] = "SessionListe"
                [bearbeitbar]="false"
                [StartButtonVisible]= "true"
                [SofortSpeichern]= "true"
                >
            </app-programm02>
        </mat-tab>

        <mat-tab #matTabChart label="Charts">
            <div fxLayout="row wrap" fxLayout.lt-sm="row wrap" fxLayoutGap="20px" fxLayoutAlign="center center" [style.margin-top]="'5px'">        
                <mat-radio-group aria-label="Select a Diagram type">
                        <mat-radio-button 
                        [(ngModel)]="DiaTyp" 
                        checked="true"  
                        value="Line"
                        (change)="DiaTypChanged($event,'line')" 
                        >Line</mat-radio-button>
                    <mat-radio-button  
                    class="mg-left-5" 
                    [(ngModel)]="DiaTyp" 
                    (change)="DiaTypChanged($event,'bar')"     
                    value="Bars">Bars</mat-radio-button>
                </mat-radio-group>
            </div>

            <mat-accordion #accSession="matAccordion" multi="true">
                <mat-expansion-panel #ExercisesInChart class="HG-01">
                    <mat-expansion-panel-header>
                        <div fxLayout="row wrap" fxLayout.lt-sm="row wrap"  fxLayoutAlign="flex-start center">
                                <div class="ml-10" fxLayout="column" fxFlex="155px" >
                                    <span>Exercises in chart</span>
                                </div>
                        </div>
                    </mat-expansion-panel-header>

                    <div fxLayout="row wrap" fxLayout.lt-sm="row wrap"  fxLayoutAlign="flex-start center">
                        <ng-container *ngFor="let DiaUebung of DiaUebungsListe">
                            <div fxLayout="column" fxLayoutGap="2px" fxFlex="50">
                                <ng-container *ngIf="DiaUebung.Relevant" >
                                    <mat-checkbox 
                                        [(ngModel)]="DiaUebung.Visible"
                                        (change)="onClickDiaUebung(DiaUebung, $event.checked)"
                                        >{{DiaUebung.UebungName}}</mat-checkbox>
                                </ng-container>
                                
                            </div>
                        </ng-container>
                    </div>

                    <div fxLayout="row wrap" fxLayout.lt-sm="row wrap"  fxLayoutAlign="center center">
                        
                        <div class="center-item" layout-align="center center">
                            <a [ngClass]="['link-button-font', 'HG-01']" mat-flat-button (click)="Save()">Save</a>
                        </div>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>

            <after-content>
            <div #ChartContainer style="width:100%;">

                <ngx-charts-line-chart
                (window:resize)="onResize($event)"
                [view]="[chartWidth,chartHeight]"
                [results]="ChartData"
                [xAxisLabel]="'Products'"
                [legendTitle]="'Product Sale Chart'"
                [yAxisLabel]="'Sale'"
                [legend]="false"
                [showXAxisLabel]="false"
                [showYAxisLabel]="false"
                [xAxis]="true"
                [yAxis]="true"
                [gradient]="true">
            </ngx-charts-line-chart>
           </div>
        </after-content>


            <!-- <ng-container *ngFor="let Dia of Diagramme" >
                <app-charts #line [ChartData]="Dia">
                </app-charts>  
            </ng-container> -->
        </mat-tab> 
    </mat-tab-group>

</div>